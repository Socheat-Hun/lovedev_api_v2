# =============================================================================
# LOVEDEV MICROSERVICES - DEVELOPMENT ENVIRONMENT VARIABLES
# =============================================================================
# Last Updated: 2025-10-31
# Description: Development environment overrides for local testing
# Usage: Copy to .env.local and customize for your local setup
# =============================================================================

# -----------------------------------------------------------------------------
# SPRING PROFILES
# -----------------------------------------------------------------------------
SPRING_PROFILES_ACTIVE=dev

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (PostgreSQL - Localhost)
# -----------------------------------------------------------------------------
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=root
DATABASE_NAME_USER=lovedev_db
DATABASE_NAME_NOTIFICATION=lovedev_notification_db_dev
DATABASE_NAME_EMAIL=lovedev_email_db_dev
DATABASE_NAME_BUSINESS=lovedev_business_db_dev

# JPA/Hibernate Configuration
JPA_SHOW_SQL=false
JPA_HIBERNATE_DDL_AUTO=validate
JPA_DATABASE_PLATFORM=org.hibernate.dialect.PostgreSQLDialect

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION (Localhost)
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TIMEOUT=60000
REDIS_LETTUCE_POOL_MAX_ACTIVE=8
REDIS_LETTUCE_POOL_MAX_IDLE=8
REDIS_LETTUCE_POOL_MIN_IDLE=0

# -----------------------------------------------------------------------------
# KAFKA CONFIGURATION (Localhost)
# -----------------------------------------------------------------------------
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_CONSUMER_GROUP_ID=lovedev-consumer-group-dev
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=false

# Kafka Topics
KAFKA_TOPIC_USER_EVENTS=user-events-dev
KAFKA_TOPIC_NOTIFICATION_EVENTS=notification-events-dev
KAFKA_TOPIC_EMAIL_EVENTS=email-events-dev
KAFKA_TOPIC_BUSINESS_EVENTS=business-events-dev

# -----------------------------------------------------------------------------
# JWT CONFIGURATION (Development)
# -----------------------------------------------------------------------------
JWT_SECRET=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000
JWT_ISSUER=lovedev-platform-dev
JWT_HEADER=Authorization
JWT_PREFIX=Bearer

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (Development - Use MailHog or similar)
# -----------------------------------------------------------------------------
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=socheathun23@gmail.com
MAIL_PASSWORD=jdrwdwwuwwpfqdai
MAIL_SMTP_AUTH=true
MAIL_SMTP_STARTTLS_ENABLE=true
MAIL_SMTP_STARTTLS_REQUIRED=false
MAIL_FROM=noreply@lovedev.com
MAIL_FROM_NAME=LoveDev Dev

# -----------------------------------------------------------------------------
# OAUTH2 CONFIGURATION (Development)
# -----------------------------------------------------------------------------
OAUTH2_GOOGLE_CLIENT_ID=your-dev-google-client-id.apps.googleusercontent.com
OAUTH2_GOOGLE_CLIENT_SECRET=your-dev-google-client-secret
OAUTH2_GOOGLE_REDIRECT_URI=http://localhost:8080/login/oauth2/code/google
OAUTH2_GOOGLE_SCOPE=profile,email

OAUTH2_FACEBOOK_CLIENT_ID=your-dev-facebook-app-id
OAUTH2_FACEBOOK_CLIENT_SECRET=your-dev-facebook-app-secret
OAUTH2_FACEBOOK_REDIRECT_URI=http://localhost:8080/login/oauth2/code/facebook
OAUTH2_FACEBOOK_SCOPE=email,public_profile

OAUTH2_REDIRECT_URI=http://localhost:3000/auth/callback

# -----------------------------------------------------------------------------
# FIREBASE CONFIGURATION (Development)
# -----------------------------------------------------------------------------
FIREBASE_CREDENTIALS_PATH=src/main/resources/firebase-service-account-dev.json
FIREBASE_PROJECT_ID=lovedev-dev
FIREBASE_DATABASE_URL=https://lovedev-dev.firebaseio.com

# -----------------------------------------------------------------------------
# CORS CONFIGURATION (Development)
# -----------------------------------------------------------------------------
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:4200,http://localhost:8080,http://localhost:8081,http://localhost:8082,http://localhost:8083,http://localhost:9092
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# -----------------------------------------------------------------------------
# FILE UPLOAD CONFIGURATION (Development)
# -----------------------------------------------------------------------------
FILE_UPLOAD_MAX_SIZE=10485760
FILE_UPLOAD_MAX_REQUEST_SIZE=10485760
FILE_UPLOAD_LOCATION=./uploads
FILE_ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION (Development)
# -----------------------------------------------------------------------------
SERVER_APP_NAME=LoveDev Platform (Dev)
SERVER_APP_VERSION=1.0.0-DEV
SERVER_APP_BASE_URL_WEB=http://localhost:3000
SERVER_APP_BASE_URL_API=http://localhost:8080
SERVER_APP_SUPPORT_EMAIL=dev@lovedev.local
SERVER_COMPRESSION_ENABLED=false
SERVER_HTTP2_ENABLED=false

# -----------------------------------------------------------------------------
# SERVICE DISCOVERY (EUREKA - Localhost)
# -----------------------------------------------------------------------------
EUREKA_SERVER_HOST=localhost
EUREKA_SERVER_PORT=8761
EUREKA_INSTANCE_HOSTNAME=localhost
EUREKA_INSTANCE_PREFER_IP=false
EUREKA_CLIENT_REGISTER_WITH_EUREKA=true
EUREKA_CLIENT_FETCH_REGISTRY=true

# -----------------------------------------------------------------------------
# CONFIG SERVER (Localhost)
# -----------------------------------------------------------------------------
CONFIG_SERVER_HOST=localhost
CONFIG_SERVER_PORT=8888
CONFIG_SERVER_GIT_URI=https://github.com/your-org/config-repo
CONFIG_SERVER_GIT_USERNAME=your-github-username
CONFIG_SERVER_GIT_PASSWORD=your-github-token
CONFIG_SERVER_GIT_DEFAULT_LABEL=develop
CONFIG_SERVER_GIT_SEARCH_PATHS=configs

# -----------------------------------------------------------------------------
# API GATEWAY (Localhost)
# -----------------------------------------------------------------------------
GATEWAY_PORT=8080
GATEWAY_ROUTE_USER_SERVICE_URI=http://localhost:8081
GATEWAY_ROUTE_NOTIFICATION_SERVICE_URI=http://localhost:8083
GATEWAY_ROUTE_EMAIL_SERVICE_URI=http://localhost:8082
GATEWAY_ROUTE_BUSINESS_SERVICE_URI=http://localhost:8084

# -----------------------------------------------------------------------------
# MICROSERVICES PORTS (Localhost)
# -----------------------------------------------------------------------------
USER_SERVICE_PORT=8081
NOTIFICATION_SERVICE_PORT=8083
EMAIL_SERVICE_PORT=8082
BUSINESS_SERVICE_PORT=8084
CONFIG_SERVER_PORT=8888
EUREKA_SERVER_PORT=8761

# -----------------------------------------------------------------------------
# MONITORING (Actuator - Development)
# -----------------------------------------------------------------------------
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE=*
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# -----------------------------------------------------------------------------
# LOGGING (Development)
# -----------------------------------------------------------------------------
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_LOVEDEV=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB=DEBUG
LOGGING_LEVEL_ORG_HIBERNATE=DEBUG
LOGGING_FILE_NAME=logs/application-dev.log
LOGGING_FILE_MAX_SIZE=10485760
LOGGING_FILE_MAX_HISTORY=7

# -----------------------------------------------------------------------------
# RESILIENCE4J (Circuit Breaker - Development)
# -----------------------------------------------------------------------------
RESILIENCE4J_CIRCUITBREAKER_FAILURE_RATE_THRESHOLD=50
RESILIENCE4J_CIRCUITBREAKER_WAIT_DURATION_IN_OPEN_STATE=5000
RESILIENCE4J_CIRCUITBREAKER_SLIDING_WINDOW_SIZE=5
RESILIENCE4J_RETRY_MAX_ATTEMPTS=2
RESILIENCE4J_RETRY_WAIT_DURATION=500

# -----------------------------------------------------------------------------
# DISTRIBUTED TRACING (Zipkin - Localhost)
# -----------------------------------------------------------------------------
ZIPKIN_BASE_URL=http://localhost:9411
ZIPKIN_ENABLED=true
SLEUTH_SAMPLER_PROBABILITY=1.0

# -----------------------------------------------------------------------------
# RATE LIMITING (Development - Relaxed)
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=false
RATE_LIMIT_REQUESTS_PER_SECOND=1000
RATE_LIMIT_BURST_CAPACITY=2000

# -----------------------------------------------------------------------------
# SECURITY (Development)
# -----------------------------------------------------------------------------
SECURITY_ENABLE_CSRF=false
SECURITY_ENABLE_FRAME_OPTIONS=false
SECURITY_SESSION_CREATION_POLICY=STATELESS
SECURITY_PASSWORD_ENCODER=bcrypt
SECURITY_PASSWORD_STRENGTH=4

# -----------------------------------------------------------------------------
# NOTIFICATION SETTINGS (Development)
# -----------------------------------------------------------------------------
NOTIFICATION_MAX_RETRY_ATTEMPTS=2
NOTIFICATION_RETRY_DELAY_MS=2000
NOTIFICATION_BATCH_SIZE=10
NOTIFICATION_QUEUE_CAPACITY=100

# -----------------------------------------------------------------------------
# EMAIL TEMPLATES (Development)
# -----------------------------------------------------------------------------
EMAIL_TEMPLATE_VERIFICATION_SUBJECT=Verify Your Email - LoveDev Dev
EMAIL_TEMPLATE_WELCOME_SUBJECT=Welcome to LoveDev Platform Dev
EMAIL_TEMPLATE_PASSWORD_RESET_SUBJECT=Reset Your Password - LoveDev Dev
EMAIL_VERIFICATION_TOKEN_EXPIRY=86400

# -----------------------------------------------------------------------------
# CACHE CONFIGURATION (Development)
# -----------------------------------------------------------------------------
CACHE_TYPE=redis
CACHE_TTL_SECONDS=300
CACHE_USER_PROFILE_TTL=60
CACHE_NOTIFICATION_TTL=30

# -----------------------------------------------------------------------------
# ASYNC CONFIGURATION (Development)
# -----------------------------------------------------------------------------
ASYNC_CORE_POOL_SIZE=2
ASYNC_MAX_POOL_SIZE=5
ASYNC_QUEUE_CAPACITY=50
ASYNC_THREAD_NAME_PREFIX=async-dev-

# -----------------------------------------------------------------------------
# FEIGN CLIENT CONFIGURATION (Development)
# -----------------------------------------------------------------------------
FEIGN_CLIENT_CONNECT_TIMEOUT=5000
FEIGN_CLIENT_READ_TIMEOUT=10000
FEIGN_HYSTRIX_ENABLED=true
FEIGN_COMPRESSION_REQUEST_ENABLED=false
FEIGN_COMPRESSION_RESPONSE_ENABLED=false

# -----------------------------------------------------------------------------
# SWAGGER/OPENAPI CONFIGURATION (Development)
# -----------------------------------------------------------------------------
SWAGGER_ENABLED=true
SWAGGER_TITLE=LoveDev Microservices API (Dev)
SWAGGER_DESCRIPTION=Development API Documentation for LoveDev Platform
SWAGGER_VERSION=1.0.0-DEV
SWAGGER_CONTACT_NAME=LoveDev Dev Team
SWAGGER_CONTACT_EMAIL=dev@lovedev.local
SWAGGER_LICENSE=Apache 2.0
SWAGGER_LICENSE_URL=https://www.apache.org/licenses/LICENSE-2.0

# -----------------------------------------------------------------------------
# APPLICATION HEALTH CHECK (Development)
# -----------------------------------------------------------------------------
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_MS=60000
HEALTH_CHECK_TIMEOUT_MS=10000

# -----------------------------------------------------------------------------
# DEBUG OPTIONS (Development Only)
# -----------------------------------------------------------------------------
DEBUG=true
SPRING_DEVTOOLS_RESTART_ENABLED=true
SPRING_DEVTOOLS_LIVERELOAD_ENABLED=true


# File Upload Configuration
FILE_UPLOAD_DIR=./uploads
FILE_MAX_SIZE=10485760
BASE_URL_API=http://localhost:8081
BASE_URL_WEB=http://localhost:3000

