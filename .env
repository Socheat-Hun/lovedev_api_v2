# =============================================================================
# LOVEDEV MICROSERVICES - PRODUCTION ENVIRONMENT VARIABLES
# =============================================================================
# Last Updated: 2025-10-31
# Description: Production environment configuration with consistent naming
# =============================================================================

# -----------------------------------------------------------------------------
# SPRING PROFILES
# -----------------------------------------------------------------------------
SPRING_PROFILES_ACTIVE=prod

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_USERNAME=lovedev_user
DATABASE_PASSWORD=lovedev_secure_password_2024
DATABASE_NAME_USER=lovedev_user_db
DATABASE_NAME_NOTIFICATION=lovedev_notification_db
DATABASE_NAME_EMAIL=lovedev_email_db
DATABASE_NAME_BUSINESS=lovedev_business_db

# JPA/Hibernate Configuration
JPA_SHOW_SQL=false
JPA_HIBERNATE_DDL_AUTO=validate
JPA_DATABASE_PLATFORM=org.hibernate.dialect.PostgreSQLDialect

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_secure_password_2024
REDIS_TIMEOUT=60000
REDIS_LETTUCE_POOL_MAX_ACTIVE=8
REDIS_LETTUCE_POOL_MAX_IDLE=8
REDIS_LETTUCE_POOL_MIN_IDLE=0

# -----------------------------------------------------------------------------
# KAFKA CONFIGURATION
# -----------------------------------------------------------------------------
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_CONSUMER_GROUP_ID=lovedev-consumer-group
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=false

# Kafka Topics
KAFKA_TOPIC_USER_EVENTS=user-events
KAFKA_TOPIC_NOTIFICATION_EVENTS=notification-events
KAFKA_TOPIC_EMAIL_EVENTS=email-events
KAFKA_TOPIC_BUSINESS_EVENTS=business-events

# -----------------------------------------------------------------------------
# JWT CONFIGURATION
# -----------------------------------------------------------------------------
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_minimum_256_bits
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000
JWT_ISSUER=lovedev-platform
JWT_HEADER=Authorization
JWT_PREFIX=Bearer

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (Gmail SMTP)
# -----------------------------------------------------------------------------
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-specific-password
MAIL_SMTP_AUTH=true
MAIL_SMTP_STARTTLS_ENABLE=true
MAIL_SMTP_STARTTLS_REQUIRED=true
MAIL_FROM=noreply@lovedev.com
MAIL_FROM_NAME=LoveDev Platform

# -----------------------------------------------------------------------------
# OAUTH2 CONFIGURATION (Google)
# -----------------------------------------------------------------------------
OAUTH2_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
OAUTH2_GOOGLE_CLIENT_SECRET=your-google-client-secret
OAUTH2_GOOGLE_REDIRECT_URI=https://yourdomain.com/login/oauth2/code/google
OAUTH2_GOOGLE_SCOPE=profile,email

# OAuth2 (Facebook)
OAUTH2_FACEBOOK_CLIENT_ID=your-facebook-app-id
OAUTH2_FACEBOOK_CLIENT_SECRET=your-facebook-app-secret
OAUTH2_FACEBOOK_REDIRECT_URI=https://yourdomain.com/login/oauth2/code/facebook
OAUTH2_FACEBOOK_SCOPE=email,public_profile

# -----------------------------------------------------------------------------
# FIREBASE CONFIGURATION (FCM for Push Notifications)
# -----------------------------------------------------------------------------
FIREBASE_CREDENTIALS_PATH=/app/config/firebase-service-account.json
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_DATABASE_URL=https://your-firebase-project.firebaseio.com

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# -----------------------------------------------------------------------------
# FILE UPLOAD CONFIGURATION
# -----------------------------------------------------------------------------
FILE_UPLOAD_MAX_SIZE=10MB
FILE_UPLOAD_MAX_REQUEST_SIZE=10MB
FILE_UPLOAD_LOCATION=/app/uploads
FILE_ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
SERVER_APP_NAME=LoveDev Platform
SERVER_APP_VERSION=1.0.0
SERVER_APP_BASE_URL_WEB=https://yourdomain.com
SERVER_APP_BASE_URL_API=https://api.yourdomain.com
SERVER_APP_SUPPORT_EMAIL=support@lovedev.com
SERVER_COMPRESSION_ENABLED=true
SERVER_HTTP2_ENABLED=true

# -----------------------------------------------------------------------------
# SERVICE DISCOVERY (EUREKA)
# -----------------------------------------------------------------------------
EUREKA_SERVER_HOST=eureka-server
EUREKA_SERVER_PORT=8761
EUREKA_INSTANCE_HOSTNAME=localhost
EUREKA_INSTANCE_PREFER_IP=true
EUREKA_CLIENT_REGISTER_WITH_EUREKA=true
EUREKA_CLIENT_FETCH_REGISTRY=true

# -----------------------------------------------------------------------------
# CONFIG SERVER
# -----------------------------------------------------------------------------
CONFIG_SERVER_HOST=config-server
CONFIG_SERVER_PORT=8888
CONFIG_SERVER_GIT_URI=https://github.com/your-org/config-repo
CONFIG_SERVER_GIT_USERNAME=your-github-username
CONFIG_SERVER_GIT_PASSWORD=your-github-token
CONFIG_SERVER_GIT_DEFAULT_LABEL=main
CONFIG_SERVER_GIT_SEARCH_PATHS=configs

# -----------------------------------------------------------------------------
# API GATEWAY
# -----------------------------------------------------------------------------
GATEWAY_PORT=8080
GATEWAY_ROUTE_USER_SERVICE_URI=lb://user-service
GATEWAY_ROUTE_NOTIFICATION_SERVICE_URI=lb://notification-service
GATEWAY_ROUTE_EMAIL_SERVICE_URI=lb://email-service
GATEWAY_ROUTE_BUSINESS_SERVICE_URI=lb://business-service

# -----------------------------------------------------------------------------
# MICROSERVICES PORTS
# -----------------------------------------------------------------------------
USER_SERVICE_PORT=8081
NOTIFICATION_SERVICE_PORT=8083
EMAIL_SERVICE_PORT=8082
BUSINESS_SERVICE_PORT=8084
CONFIG_SERVER_PORT=8888
EUREKA_SERVER_PORT=8761

# -----------------------------------------------------------------------------
# MONITORING (Actuator)
# -----------------------------------------------------------------------------
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when_authorized
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_LOVEDEV=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB=INFO
LOGGING_LEVEL_ORG_HIBERNATE=WARN
LOGGING_FILE_NAME=/app/logs/application.log
LOGGING_FILE_MAX_SIZE=10MB
LOGGING_FILE_MAX_HISTORY=30

# -----------------------------------------------------------------------------
# RESILIENCE4J (Circuit Breaker)
# -----------------------------------------------------------------------------
RESILIENCE4J_CIRCUITBREAKER_FAILURE_RATE_THRESHOLD=50
RESILIENCE4J_CIRCUITBREAKER_WAIT_DURATION_IN_OPEN_STATE=10000
RESILIENCE4J_CIRCUITBREAKER_SLIDING_WINDOW_SIZE=10
RESILIENCE4J_RETRY_MAX_ATTEMPTS=3
RESILIENCE4J_RETRY_WAIT_DURATION=1000

# -----------------------------------------------------------------------------
# DISTRIBUTED TRACING (Zipkin)
# -----------------------------------------------------------------------------
ZIPKIN_BASE_URL=http://zipkin:9411
ZIPKIN_ENABLED=true
SLEUTH_SAMPLER_PROBABILITY=1.0

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_SECOND=100
RATE_LIMIT_BURST_CAPACITY=200

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
SECURITY_ENABLE_CSRF=false
SECURITY_ENABLE_FRAME_OPTIONS=true
SECURITY_SESSION_CREATION_POLICY=STATELESS
SECURITY_PASSWORD_ENCODER=bcrypt
SECURITY_PASSWORD_STRENGTH=10

# -----------------------------------------------------------------------------
# NOTIFICATION SETTINGS
# -----------------------------------------------------------------------------
NOTIFICATION_MAX_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY_MS=5000
NOTIFICATION_BATCH_SIZE=100
NOTIFICATION_QUEUE_CAPACITY=1000

# -----------------------------------------------------------------------------
# EMAIL TEMPLATES
# -----------------------------------------------------------------------------
EMAIL_TEMPLATE_VERIFICATION_SUBJECT=Verify Your Email - LoveDev
EMAIL_TEMPLATE_WELCOME_SUBJECT=Welcome to LoveDev Platform
EMAIL_TEMPLATE_PASSWORD_RESET_SUBJECT=Reset Your Password - LoveDev
EMAIL_VERIFICATION_TOKEN_EXPIRY=86400

# -----------------------------------------------------------------------------
# CACHE CONFIGURATION
# -----------------------------------------------------------------------------
CACHE_TYPE=redis
CACHE_TTL_SECONDS=3600
CACHE_USER_PROFILE_TTL=1800
CACHE_NOTIFICATION_TTL=600

# -----------------------------------------------------------------------------
# ASYNC CONFIGURATION
# -----------------------------------------------------------------------------
ASYNC_CORE_POOL_SIZE=5
ASYNC_MAX_POOL_SIZE=10
ASYNC_QUEUE_CAPACITY=100
ASYNC_THREAD_NAME_PREFIX=async-

# -----------------------------------------------------------------------------
# FEIGN CLIENT CONFIGURATION
# -----------------------------------------------------------------------------
FEIGN_CLIENT_CONNECT_TIMEOUT=5000
FEIGN_CLIENT_READ_TIMEOUT=10000
FEIGN_HYSTRIX_ENABLED=true
FEIGN_COMPRESSION_REQUEST_ENABLED=true
FEIGN_COMPRESSION_RESPONSE_ENABLED=true

# -----------------------------------------------------------------------------
# SWAGGER/OPENAPI CONFIGURATION
# -----------------------------------------------------------------------------
SWAGGER_ENABLED=true
SWAGGER_TITLE=LoveDev Microservices API
SWAGGER_DESCRIPTION=API Documentation for LoveDev Platform
SWAGGER_VERSION=1.0.0
SWAGGER_CONTACT_NAME=LoveDev Support
SWAGGER_CONTACT_EMAIL=support@lovedev.com
SWAGGER_LICENSE=Apache 2.0
SWAGGER_LICENSE_URL=https://www.apache.org/licenses/LICENSE-2.0

# -----------------------------------------------------------------------------
# APPLICATION HEALTH CHECK
# -----------------------------------------------------------------------------
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_MS=30000
HEALTH_CHECK_TIMEOUT_MS=5000
