spring:
  config:
    import: optional:file:.env.local[.properties]

  # Database Configuration - All from .env.local
  datasource:
    url: jdbc:postgresql://${DATABASE_HOST:localhost}:${DATABASE_PORT:5432}/${DATABASE_NAME_USER:lovedev_user_db_dev}
    username: ${DATABASE_USERNAME:postgres}
    password: ${DATABASE_PASSWORD:postgres}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false

  flyway:
    enabled: false
    baseline-on-migrate: true
    locations: classpath:db/migration

app:
  firebase:
    enabled: ${FIREBASE_ENABLED:false}
    service-account-file: ${FIREBASE_SERVICE_ACCOUNT_FILE:}
  
  jwt:
    secret: ${JWT_SECRET}

  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:4200,http://localhost:8080}
    allowed-methods: ${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,PATCH,OPTIONS}
    allowed-headers: ${CORS_ALLOWED_HEADERS:*}
    allow-credentials: ${CORS_ALLOW_CREDENTIALS:true}
    max-age: ${CORS_MAX_AGE:3600}

logging:
  level:
    root: INFO
    com.lovedev.notification: DEBUG  # Your code - keep DEBUG
    org.springframework.web: INFO           # Changed from DEBUG
    org.springframework.security: INFO      # Changed from DEBUG
    org.springframework.boot: INFO

management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
